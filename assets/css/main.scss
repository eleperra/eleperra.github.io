---
# Only the main Sass file needs front matter (the dashes are enough)
---

@charset "utf-8";

/* Importa la skin scelta nel _config.yml e poi il tema */
@import "minimal-mistakes/skins/{{ site.minimal_mistakes_skin | default: 'air' }}";
@import "minimal-mistakes";

/* =====================================================
   Elena Perra — Geologic / Seismic Atlas (NO images)
   Pattern: isoipse + tracce sismiche + reticolo
   Palette: stone/cool-grey + ink + olive + amber
   Nav underline: coerente (non celeste)
   Avatar: mai sfocato
   ===================================================== */

:root{
  /* Base (meno beige): stone / cool-grey */
  --ep-bg: #e9ecef;                 /* sfondo pagina */
  --ep-text: #121a24;               /* inchiostro */
  --ep-muted: #556372;

  /* Superfici (non bianco puro) */
  --ep-surface: rgba(248, 247, 244, .88);
  --ep-border: rgba(18, 26, 36, .16);

  /* Palette coerente */
  --ep-ink: #121a24;                /* inchiostro scuro */
  --ep-olive: rgba(63, 88, 70, .95);
  --ep-amber: rgba(172, 118, 44, .95);

  /* Link */
  --ep-link: #141f2b;
  --ep-link-hover: #0e1823;
  --ep-link-visited: #070b10;

  /* Underline/“barretta” (menu + link + icone) */
  --ep-underline: rgba(18, 26, 36, .55);        /* default */
  --ep-underline-hover: rgba(63, 88, 70, .85);  /* oliva */
  --ep-underline-active: rgba(172, 118, 44, .85);/* ambra */

  /* Pattern ink */
  --ep-grid-major: rgba(18, 26, 36, .12);
  --ep-grid-minor: rgba(18, 26, 36, .06);

  /* Isoipse */
  --ep-contour-1: rgba(18, 26, 36, .08);
  --ep-contour-2: rgba(18, 26, 36, .06);

  /* Tracce “sismiche/geologiche” (linee spezzate/diagonali leggere) */
  --ep-seis-1: rgba(18, 26, 36, .07);
  --ep-seis-2: rgba(18, 26, 36, .05);

  /* Glow “lab map-room” (non azzurro) */
  --ep-glow-1: rgba(63, 88, 70, .12);   /* oliva soft */
  --ep-glow-2: rgba(172, 118, 44, .10); /* ambra soft */
  --ep-glow-3: rgba(18, 26, 36, .07);   /* ink soft */
}

/* Base */
html, body{
  background-color: var(--ep-bg);
  color: var(--ep-text);
}

/* =====================================================
   BACKGROUND GEOLOGICO/SISMICO (solo gradienti)
   - glow caldo sobrio
   - reticolo (major/minor)
   - isoipse (2 centri)
   - “seismic traces” diagonali a tratti
   ===================================================== */
body{
  background-image:
    /* glow */
    radial-gradient(1200px 820px at 12% 12%, var(--ep-glow-1), transparent 62%),
    radial-gradient(1050px 760px at 88% 16%, var(--ep-glow-2), transparent 60%),
    radial-gradient(860px 560px at 52% 98%, var(--ep-glow-3), transparent 58%),

    /* reticolo MAJOR */
    repeating-linear-gradient(
      0deg,
      var(--ep-grid-major) 0px,
      var(--ep-grid-major) 1px,
      transparent 1px,
      transparent 190px
    ),
    repeating-linear-gradient(
      90deg,
      var(--ep-grid-major) 0px,
      var(--ep-grid-major) 1px,
      transparent 1px,
      transparent 190px
    ),

    /* reticolo MINOR */
    repeating-linear-gradient(
      0deg,
      var(--ep-grid-minor) 0px,
      var(--ep-grid-minor) 1px,
      transparent 1px,
      transparent 38px
    ),
    repeating-linear-gradient(
      90deg,
      var(--ep-grid-minor) 0px,
      var(--ep-grid-minor) 1px,
      transparent 1px,
      transparent 38px
    ),

    /* isoipse (centro 1) */
    repeating-radial-gradient(
      circle at 28% 36%,
      transparent 0px,
      transparent 13px,
      var(--ep-contour-1) 13px,
      var(--ep-contour-1) 14px,
      transparent 14px,
      transparent 28px
    ),

    /* isoipse (centro 2) */
    repeating-radial-gradient(
      circle at 72% 62%,
      transparent 0px,
      transparent 17px,
      var(--ep-contour-2) 17px,
      var(--ep-contour-2) 18px,
      transparent 18px,
      transparent 36px
    ),

    /* seismic traces 1 (diagonali a tratti) */
    repeating-linear-gradient(
      135deg,
      transparent 0px,
      transparent 10px,
      var(--ep-seis-1) 10px,
      var(--ep-seis-1) 11px,
      transparent 11px,
      transparent 22px
    ),

    /* seismic traces 2 (secondo set per irregolarità) */
    repeating-linear-gradient(
      45deg,
      transparent 0px,
      transparent 14px,
      var(--ep-seis-2) 14px,
      var(--ep-seis-2) 15px,
      transparent 15px,
      transparent 34px
    );

  background-attachment: fixed;
}

/* =====================================================
   CONTENUTO su “carta” (lascia intravedere il pattern)
   ===================================================== */
.page__content,
.sidebar__right,
.archive__item{
  background: var(--ep-surface) !important;
  border: 1px solid var(--ep-border) !important;
  border-radius: 18px;
  box-shadow: 0 18px 44px rgba(18, 26, 36, .10);
}

.page__content{ padding: 1.15rem; }

/* Masthead coerente */
.masthead{
  background: linear-gradient(
    90deg,
    rgba(63, 88, 70, .14),
    rgba(172, 118, 44, .10),
    rgba(18, 26, 36, .08)
  ) !important;
  border-bottom: 1px solid var(--ep-border) !important;
}
.greedy-nav{ background: transparent !important; }

/* =====================================================
   LINK + underline coerente (niente celeste)
   ===================================================== */
a{
  color: var(--ep-link) !important;
  text-decoration-thickness: .11em;
  text-underline-offset: .18em;
  text-decoration-color: var(--ep-underline) !important;
}

/* rimuove l’underline “finto” azzurrino del tema */
a,
.author__urls a,
.page__content a,
.archive a{
  box-shadow: none !important;
}

a:hover, a:focus{
  color: var(--ep-link-hover) !important;
  text-decoration-color: var(--ep-underline-hover) !important;
}

a:active{
  text-decoration-color: var(--ep-underline-active) !important;
}

a:visited{
  color: var(--ep-link-visited) !important;
  text-decoration-color: rgba(18, 26, 36, .70) !important;
}

/* =====================================================
   MENU “barrette” (Conferences, CV, etc.) NON celesti
   - hover: oliva
   - pagina attiva: ambra (o oliva se preferisci)
   ===================================================== */

/* disattiva eventuale evidenziazione blu del tema */
.greedy-nav .visible-links a{
  box-shadow: none !important;
}

/* hover/focus nel menu */
.greedy-nav .visible-links a:hover,
.greedy-nav .visible-links a:focus{
  box-shadow: inset 0 -3px 0 var(--ep-underline-hover) !important;
}

/* pagina corrente (varie implementazioni possibili nel tema) */
.greedy-nav .visible-links li.active a,
.greedy-nav .visible-links a[aria-current="page"],
.greedy-nav .visible-links a.active{
  box-shadow: inset 0 -3px 0 var(--ep-underline-active) !important;
}

/* anche per la nav laterale, se presente */
.nav__list .active > a{
  box-shadow: inset 0 -3px 0 var(--ep-underline-active) !important;
}

/* =====================================================
   BOTTONI (paper: “Learn more” ecc.) coerenti
   ===================================================== */
.btn,
a.btn{
  background: var(--ep-olive) !important;
  border: 1px solid rgba(18, 26, 36, .18) !important;
  color: rgba(248, 247, 244, .98) !important;
  border-radius: 999px !important;
  text-decoration: none !important;
  box-shadow: 0 10px 24px rgba(18,26,36,.14) !important;
}

.btn:hover, a.btn:hover{
  background: rgba(18, 26, 36, .95) !important;
  transform: translateY(-1px);
}
.btn:active, a.btn:active{
  background: var(--ep-amber) !important;
  transform: translateY(0);
}

.btn--primary{ background: var(--ep-olive) !important; }
.btn--info{ background: rgba(18, 26, 36, .95) !important; }
.btn--warning{ background: var(--ep-amber) !important; }
.btn--small{ padding: .45em .95em !important; font-weight: 600; }

/* =====================================================
   AVATAR: MAI sfocato (forzato contro blur-up/lazyload)
   ===================================================== */
.author__avatar img,
.author__avatar img.lazyload,
.author__avatar img.lazyloaded,
.author__avatar img.blur-up,
.author__avatar img.is-loaded,
.sidebar .author__avatar img,
img.avatar,
img[src*="profile"]{
  filter: none !important;
  -webkit-filter: none !important;
  transform: none !important;
  opacity: 1 !important;
  image-rendering: auto !important;
}

.author__avatar::after,
.author__avatar a::after{
  content: none !important;
}
