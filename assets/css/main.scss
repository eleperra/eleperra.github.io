---
# Only the main Sass file needs front matter (the dashes are enough)
---

@charset "utf-8";

/* Importa la skin scelta nel _config.yml e poi il tema */
@import "minimal-mistakes/skins/{{ site.minimal_mistakes_skin | default: 'air' }}";
@import "minimal-mistakes";

/* =====================================================
   Elena Perra — Warm Atlas (NO images)
   Niente celeste/bianco: greige + avorio + inchiostro scuro
   Pattern cartografico: griglia + isoipse (solo gradienti)
   Link scuri + visited più scuri
   Avatar sempre nitido (forzato)
   ===================================================== */

:root{
  /* Base “carta” calda (no azzurri) */
  --ep-bg: #f2eee6;            /* greige caldo */
  --ep-text: #141b24;          /* quasi-inchiostro */
  --ep-muted: #5a6675;

  /* Superfici (meno bianco puro) */
  --ep-surface: rgba(250, 246, 238, .88);
  --ep-border: rgba(20, 27, 36, .16);

  /* Link: scuri */
  --ep-link: #1a2230;
  --ep-link-hover: #0f1a28;
  --ep-link-visited: #070c12;

  /* “Inchiostro” pattern */
  --ep-ink-major: rgba(20, 27, 36, .14); /* griglia grande */
  --ep-ink-minor: rgba(20, 27, 36, .07); /* griglia piccola */
  --ep-ink-cont1: rgba(20, 27, 36, .09); /* isoipse 1 */
  --ep-ink-cont2: rgba(20, 27, 36, .07); /* isoipse 2 */

  /* Ombreggiature calde (non celesti) */
  --ep-shade-amber: rgba(176, 122, 48, .14); /* ambra */
  --ep-shade-olive: rgba(70, 92, 72, .10);   /* oliva */
  --ep-shade-ink: rgba(26, 34, 48, .08);     /* inchiostro soft */
}

/* Base */
html, body{
  background-color: var(--ep-bg);
  color: var(--ep-text);
}

/* ===========================
   BACKGROUND CARTOGRAFICO
   (solo gradienti CSS)
   =========================== */
body{
  background-image:
    /* glow caldo “map-room” */
    radial-gradient(1200px 820px at 10% 12%, var(--ep-shade-amber), transparent 62%),
    radial-gradient(1050px 760px at 90% 16%, var(--ep-shade-olive), transparent 60%),
    radial-gradient(820px 520px at 50% 98%, var(--ep-shade-ink), transparent 58%),

    /* Reticolo MAJOR */
    repeating-linear-gradient(
      0deg,
      var(--ep-ink-major) 0px,
      var(--ep-ink-major) 1px,
      transparent 1px,
      transparent 170px
    ),
    repeating-linear-gradient(
      90deg,
      var(--ep-ink-major) 0px,
      var(--ep-ink-major) 1px,
      transparent 1px,
      transparent 170px
    ),

    /* Reticolo MINOR */
    repeating-linear-gradient(
      0deg,
      var(--ep-ink-minor) 0px,
      var(--ep-ink-minor) 1px,
      transparent 1px,
      transparent 42px
    ),
    repeating-linear-gradient(
      90deg,
      var(--ep-ink-minor) 0px,
      var(--ep-ink-minor) 1px,
      transparent 1px,
      transparent 42px
    ),

    /* Isoipse (contour) — centro 1 */
    repeating-radial-gradient(
      circle at 30% 36%,
      transparent 0px,
      transparent 15px,
      var(--ep-ink-cont1) 15px,
      var(--ep-ink-cont1) 16px,
      transparent 16px,
      transparent 32px
    ),

    /* Isoipse — centro 2 (variazione) */
    repeating-radial-gradient(
      circle at 72% 62%,
      transparent 0px,
      transparent 19px,
      var(--ep-ink-cont2) 19px,
      var(--ep-ink-cont2) 20px,
      transparent 20px,
      transparent 40px
    );

  background-attachment: fixed;
}

/* ===========================
   CONTENUTO SU “CARTA”
   (non bianco puro)
   =========================== */
.page__content,
.sidebar__right,
.archive__item{
  background: var(--ep-surface) !important;
  border: 1px solid var(--ep-border) !important;
  border-radius: 18px;
  box-shadow: 0 18px 44px rgba(20, 27, 36, .10);
}

/* Respiro */
.page__content{ padding: 1.15rem; }

/* Masthead: banda sobria calda */
.masthead{
  background: linear-gradient(
    90deg,
    rgba(176, 122, 48, .16),
    rgba(70, 92, 72, .12),
    rgba(26, 34, 48, .10)
  ) !important;
  border-bottom: 1px solid var(--ep-border) !important;
}
.greedy-nav{ background: transparent !important; }

/* ===========================
   LINK: scuri + visited più scuri
   =========================== */
a{
  color: var(--ep-link) !important;
  text-decoration-thickness: .11em;
  text-underline-offset: .18em;
}
a:hover,
a:focus{
  color: var(--ep-link-hover) !important;
}
a:visited{
  color: var(--ep-link-visited) !important;
}

/* Headings un filo più editorial */
.page__content h2{
  border-bottom: 1px solid var(--ep-border);
  padding-bottom: .25rem;
}

/* Blockquote “field note” */
.page__content blockquote{
  background: rgba(250, 246, 238, .86);
  border-left: 6px solid rgba(70, 92, 72, .80);
  border-radius: 14px;
  box-shadow: 0 14px 34px rgba(20, 27, 36, .09);
}

/* Bottoni coerenti (caldi e sobri) */
.btn, .btn--primary{
  background: rgba(70, 92, 72, .95);
  border-color: transparent;
  border-radius: 999px;
}
.btn--info{
  background: rgba(26, 34, 48, .95);
  border-radius: 999px;
}
.btn--warning{
  background: rgba(176, 122, 48, .92);
  border-radius: 999px;
}

/* Footer */
.page__footer{
  background: rgba(250, 246, 238, .78);
  border-top: 1px solid var(--ep-border);
}
.page__footer, .page__footer a{ color: var(--ep-muted) !important; }
.page__footer a:hover{ color: rgba(70, 92, 72, .95) !important; }

/* ===========================
   AVATAR: sempre NITIDO
   (se è sfocato, è un filtro da qualche CSS: qui lo annulliamo)
   =========================== */
.author__avatar img,
img.avatar,
img[alt="Elena Perra"],
img[src*="profile"]{
  filter: none !important;
  -webkit-filter: none !important;
  transform: none !important;
  opacity: 1 !important;
  image-rendering: auto !important;
}
